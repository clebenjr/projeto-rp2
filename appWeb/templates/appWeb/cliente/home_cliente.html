{% extends "base.html" %}

{% block title %}UniFood - Produtos{% endblock %}

{% block header %}
<header class="app-header" style="background:#4b3840; justify-content:space-between;">

    <!-- AGORA o hamb√∫rguer abre o menu de vendedores -->
    <a href="{% url 'info_vendedores' %}"
    style="color:#fff; font-size:22px; text-decoration:none; display:inline-block;">
        ‚ò∞
    </a>

    <h1 style="font-size:16px;">UniFood</h1>

    <!-- √çcone da direita por enquanto √© s√≥ decorativo (ou voc√™ pode ligar a outro recurso depois) -->
    <button class="btn-icon" style="color:#fff; font-size:20px;">
    </button>
</header>
{% endblock %}

{% block content %}
    <!-- barra de filtro + busca -->
    <form method="get" class="row-between" style="margin-bottom:12px; gap:8px;">
        <div style="flex:1; position:relative;">
            <input type="text" name="q" value="{{ busca }}"
                   class="input-field"
                   placeholder="Buscar produto ou vendedor">
            <span style="position:absolute; right:12px; top:50%; transform:translateY(-50%); font-size:18px;">üîç</span>
        </div>
    </form>

    {% for produto in produtos %}
        <a href="{% url 'detalhe_produto_cliente' produto.id %}"
           style="text-decoration:none; color:inherit;">
            <div class="product-card">
                <div class="product-image"
                     style="{% if produto.imagem %}background-image:url('{{ produto.imagem.url }}');{% endif %}">
                </div>

                <div class="product-info">
                    <div class="product-name" style="font-size:15px; margin-bottom:4px;">
                        {{ produto.nome }}
                    </div>
                    <div style="font-size:12px; color:#777;">
                        <a href="{% url 'detalhe_vendedor_cliente' produto.vendedor.id %}"
                        style="color:#777; text-decoration:none;">
                            {{ produto.vendedor.nome_venda }}
                        </a>
                    </div>
                </div>

                <div class="product-price">
                    R$ {{ produto.preco }}
                </div>
            </div>
        </a>
    {% empty %}
        <p style="font-size:14px; color:#777;">Nenhum produto dispon√≠vel no momento.</p>
    {% endfor %}
{% endblock %}
